# 창의 설계: 한국 데이터 확장 + 플랫폼별 정책 시뮬레이션

**목적**: 학습 데이터의 지리적 다양성 확보(한국·아시아) + 플랫폼별 실제 정책을 반영한 “가상 광고 시뮬레이션”으로 상상력·영향력 강화.

---

## 1. 왜 한국 데이터인가

- **현재**: 원본 Kaggle + 보강 데이터 모두 **USA, UK, Germany, Canada, India, UAE, Australia** 7개국만 포함. 한국 없음.
- **한계**: “글로벌”이라고 하기엔 동아시아 시장이 빠져 있고, 국내 심사·실사용 관점에서 “한국 적용 가능성”이 약함.
- **효과**: 한국(및 선택적으로 일본·싱가포르) 세그먼트를 추가하면  
  - “다국가·한국 포함” 서사로 **상상력** 강화,  
  - “국내 광고주도 참고 가능” 메시지로 **영향력** 강화.

---

## 2. 한국(및 아시아) 데이터 추가 설계

### 2.1 데이터 출처 (참고용, 직접 수집은 선택)

| 출처 | 내용 | 활용 |
|------|------|------|
| 방송통신위원회 / 한국인터넷광고연합 | 국내 디지털 광고 규모·매체별 점유율 | 한국 시장 비중·플랫폼 비율 가정 |
| eMarketer / Statista | 한국 디지털 광고 지출, 모바일 비중 | CPC·ROAS 밴드 참고 |
| 네이버·카카오 공시 | 국내 검색·디스플레이 비중 | “Google/Meta/TikTok 외” 한국 플랫폼 언급용(선택) |

직접 API로 수집하지 않아도, **공개된 수치로 스케일링 계수만 잡고 합성 확장**하면 됨.

### 2.2 구현 방향 (1주일 내 무리 없는 범위)

**옵션 A: 합성 한국 세그먼트 추가 (권장)**  
- 기존 `enriched_ads_final.csv`의 **플랫폼×산업×캠페인 유형** 구조를 유지한 채,  
  **country=Korea** 인 행만 새로 생성.
- 방법:  
  1. 기존 7개국 중 **India 또는 Australia**를 “참조 국가”로 두고  
     (디지털 광고 성장률·모바일 비중이 비슷하다는 가정),  
  2. 한국용 **스케일링 계수** 적용:  
     - CPC: 한국 평균 CPC가 참조국 대비 0.9~1.1 배 구간이라고 가정하고 랜덤 스케일  
     - ROAS: 산업별로 참조국 대비 0.85~1.15 배 등으로 조정  
  3. `date`는 기존 기간(2022–2024) 유지, `impressions`/`clicks`/`ad_spend`/`revenue` 등은 스케일링 후 일관되게 재계산.
- 결과: **행 수만 늘어나고, 기존 파이프라인(Phase 2–4)과 동일한 컬럼 구조** 유지 → 재학습·Notion 서사 모두에 바로 사용 가능.

**옵션 B: 일본·싱가포르까지 확장**  
- 동일한 방식으로 `country`에 Japan, Singapore 추가.  
- 우선순위는 **한국 1차** → 시간 있으면 일본/싱가포르.

### 2.3 스키마/코드 반영

- `tool_schemas.py`: `COUNTRIES`에 `"Korea"` 추가 (에이전트/예측 시 한국 선택 가능).
- `data_collectors/` 또는 별도 스크립트:  
  - 입력: `data/enriched_ads_final.csv`  
  - 출력: `data/enriched_ads_final.csv` (덮어쓰기) 또는 `data/enriched_ads_with_korea.csv`  
  - 로직: 위 “참조국 기반 스케일링 + country=Korea 행 생성”, `is_synthetic=True` 및 `country_origin='KR'`(선택) 등 메타 컬럼 추가.

### 2.4 서사/문구 제안

- 1page·Notion: “원본 7개국에 이어 **한국 시장 세그먼트를 합성 확장**해, 국내 광고주도 참고할 수 있는 예측·전략 시뮬레이션을 지원합니다.”
- 영상: “미국·유럽 중심 데이터만으로는 아쉬워서, **한국 시장을 반영한 확장 데이터**를 추가했습니다.”

---

## 3. 플랫폼별 정책 시뮬레이션 설계

### 3.1 왜 플랫폼 정책인가

- 실제로는 **예산을 얼마나 넣느냐**에 따라 노출·클릭·전환이 달라지고, 그 관계가 플랫폼마다 다름.
  - **YouTube(Google)**: 예산 증가 → 노출은 늘지만 한계 효용 체감; 일 예산 캡에 따른 페이싱.
  - **Meta**: 학습 단계(Learning Phase) 때문에 **소규모 예산 구간**에서 효율이 낮게 나오는 경우가 많음.
  - **TikTok**: 경매 특성상 CPM 변동이 크고, 청년층 밀집 등으로 플랫폼별로 “예산–성과” 곡선 형태가 다름.
- “단순 보정 없는 평균 ROAS”가 아니라, **플랫폼별 예산–노출(또는 ROAS) 반응 곡선**을 두고 시뮬레이션하면 “실제 광고 운영에 가까운 가상 시뮬레이션”이 됨.

### 3.2 플랫폼별 가정 (실무·문헌 기반 요약)

| 플랫폼 | 정책/특성 요약 | 시뮬레이션 반영 아이디어 |
|--------|----------------|---------------------------|
| **Google Ads (Search/YouTube)** | 일 예산 상한, 경매 입찰, 예산 늘리면 노출 증가하지만 포화 구간 존재 | 예산 구간별 “노출 효율” 계수 또는 S형 반응 곡선; 저예산 구간 약간 불리하게 |
| **Meta Ads** | 학습 단계(50 전환/주 권장), 소예산 시 불안정, 오디언스 포화 시 CPC 상승 | “최소 유효 예산” 구간 이하는 ROAS 페널티; 고예산 구간에서 한계 효용 체감 |
| **TikTok Ads** | 경매 기반, 청년층 밀집, CPM 변동성 큼 | 예산 대비 노출은 선형에 가깝지만, 산업/타겟에 따라 분산(표준편차) 크게 |

위는 “실제 사례에 비춘 디테일”을 **파라미터화한 가정**으로 두고, 수식으로는 단순하게 가져가는 것이 1주일 내 구현에 적합함.

### 3.3 구현 방향 (가상 시뮬레이션)

**단계 1: 플랫폼별 반응 곡선 정의**  
- 다음을 코드/설정으로 두고, 나중에 수치만 조정 가능하게.
  - **Google**: `budget → effective_multiplier` (S형), 예) 0~1K 구간 0.9, 1K~5K 1.0, 5K~20K 1.05, 20K+ 0.95 (포화).
  - **Meta**: `budget < min_effective_budget` 이면 ROAS 보정 계수 0.7~0.85; 그 이상은 S형.
  - **TikTok**: 선형에 가깝게 두고, 노이즈(표준편차)만 플랫폼별로 다르게.
- 수식은 “현재 예측 ROAS × 플랫폼별 계수(budget, platform)” 형태로 두면 됨.

**단계 2: “가상 시뮬레이션” 스크립트**  
- 입력: (플랫폼, 산업, 국가, **예산 구간** 또는 연속 예산).
- 출력:  
  - 플랫폼별 “예산–기대 ROAS” 곡선 (또는 구간별 표),  
  - “예산을 X만큼 올렸을 때 기대 노출/ROAS 변화” 요약.
- 기존 `ads_predictor_v2` 예측값을 **1차 근사**로 쓰고, 그 위에 플랫폼 정책 계수를 곱하는 방식이 구현 부담이 적음.

**단계 3: 시각화**  
- **플랫폼별 예산–ROAS 반응 곡선** 1장 (S형/선형 차이 강조).  
- (선택) “동일 예산이어도 플랫폼에 따라 기대 ROAS가 다르다”는 **막대/라인 차트** 1장.  
- Notion/1page: “**플랫폼별 정책(학습 구간, 포화 구간)을 반영한 가상 시뮬레이션**을 추가했습니다.”

### 3.4 서사/문구 제안

- 1page·Notion: “단순 평균이 아니라 **플랫폼별 예산–노출 정책(학습 구간, 포화 구간)**을 반영해, 예산 증액 시 기대 효과를 플랫폼마다 다르게 시뮬레이션합니다.”
- 영상: “유튜브는 예산을 더 넣으면 노출이 늘지만 어느 구간부터는 체감하고, 메타는 소규모 예산일 때 효율이 떨어지는 걸 **실제에 가깝게 가정**해서 시뮬레이션에 반영했습니다.”

---

## 4. 1주일 일정에 넣는 방법

- **한국 데이터**: D-6 또는 D-5에 “한국 세그먼트 확장” 스크립트 1개 + `COUNTRIES` 반영. 재학습은 선택(시간 있으면 하고, 없으면 기존 모델에 Korea 행만 예측에 사용해도 됨).
- **플랫폼 정책 시뮬레이션**: D-5 “전략 시뮬레이션 설계”에 **플랫폼별 반응 곡선** 포함, D-4 “예산 재할당” 시 **플랫폼별 곡선 차트** 1장 추가.  
  - 기존 “예산 상위 k% vs 균등 배분” 시뮬레이션과 결합: “플랫폼별 유효 예산 구간을 고려한 재배분”으로 한 문장만 더하면 됨.

이렇게 하면 **유의미한 데이터 확장(한국)** 과 **실제에 비춘 디테일(플랫폼 정책)** 둘 다 1주일 안에 “창의 설계”로 담을 수 있습니다.

---

## 5. Cursor 프롬프트 예시 (복붙용)

**한국 세그먼트 추가**
```
docs/CREATIVE_DESIGN_한국_플랫폼정책.md 섹션 2.2 옵션 A 따라 한국 세그먼트 추가 스크립트 작성해줘.
- 입력: data/enriched_ads_final.csv
- 참조국: India (동일한 industry, platform, campaign_type 비율로 샘플링)
- Korea 행: CPC·ROAS를 참조국 대비 0.9~1.1 스케일 랜덤 적용, 나머지 컬럼 일관되게 계산. is_synthetic=True, country='Korea'
- 출력: data/enriched_ads_with_korea.csv (또는 기존 파일에 append 옵션)
- tool_schemas.py의 COUNTRIES 리스트에 "Korea" 추가해줘.
```

**플랫폼별 반응 곡선**
```
docs/CREATIVE_DESIGN_한국_플랫폼정책.md 섹션 3.3 따라 플랫폼별 예산-ROAS 반응 곡선을 그리는 코드 작성해줘.
- Google: S형 (저예산 0.9배, 중간 1.0, 고예산 포화 0.95)
- Meta: 예산 < 2000 이면 0.75배, 이상이면 S형
- TikTok: 선형 1.0 + 노이즈
예산 구간 [500, 1k, 2k, 5k, 10k, 20k] USD별로 기대 ROAS 배율 계산해서 figures/platform_budget_response_curves.png 저장.
```
